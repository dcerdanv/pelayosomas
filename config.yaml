# path or the data directory
# Here there must be chr in format chr{number}.ready.vcf.gz
samples: 'data'

# path to the results directory
outdir: 'results'

# path to the logs directory
logdir: 'logs'




# genomic reference sequences and annotations for aligners and quantifiers
ref:
    star:
        annotation: "resources/align/gencode.v38.annotation.gtf"
        # fasta file with transcripts
        fasta: "resources/align/GRCh38.primary_assembly.genome.fa"
        # STAR aligner index path (auto generated if not already present)
        star_index: "resources/align/star_index"
    salmon:
        # salmon transcriptome: .fa.gz
        transcriptome: "resources/align/gencode.v38.transcripts.fa.gz"
        #transcriptome: ""
        # salmon genome assembly: .ga.gz
        genome_assembly: "resources/align/GRCh38.primary_assembly.genome.fa.gz"
        #genome_assembly: ""
        # Salmon aligner index path (auto generated if not already present)
        salmon_index: "resources/align/salmon_index"
        #salmon_index: "/storage/scratch01/shared/indexes/h_sapiens/gencode/v38/salmon/1.5.1/"
        #salmon_index: "/storage/scratch01/shared/indexes/m_musculus/gencode/vM27/salmon/1.5.1"
    hisat2:
        # fasta file with transcripts
        fasta: "resources/align/GRCh38.primary_assembly.genome.fa"
        # HISAT2 aligner index path (auto generated if not already present)
        hisat2_index: "resources/align/hisat2_index/"
        annotation: "resources/align/gencode.v38.annotation.gtf"


parameters:
    trimming:
        adapters: "resources/trimming/adapters.fa"
        extra: "-Xmx2g ktrim=r k=23 mink=11 hdist=1"
    
    ## set it to A for automatic library detection.
    ## https://salmon.readthedocs.io/en/latest/salmon.html
    salmon:
        libtype: 'A'
        adapters: ""
        extra: ""

    salmon_index:
        gencode: True ## Set to True if transcriptome source is gencode

    multiqc: "--config res/config/multiqc_config.yaml"

    htseq-count:
        # Mode: "union", "intersection-strict" or "intersection-nonempty" (default: union)
        mode: "-m union"
        # Strandness: "yes", "no" or "reverse" (default: yes)
        strandedness: "-s no"

    deseq2:
        # path or URL to design matrix
        designmatrix: "designmatrix.tsv"
        design: "~condition+date"

    featureCounts:
        extra: ""
        # Strandness: 0 = "unstranded", 1 = "stranded", 2 = "reversely stranded" (default: 0)
        strandedness: "-s 0"

resources:
    default:
        threads: 1
        mem:  4096
        walltime: 10
    
    fastqc:
        threads: 1
        mem:  4096
        walltime: 10
        
    multiqc:
        threads: 8
        mem:  4096
        walltime: 10
    
    trim_adapters_single_end:
        threads: 8
        mem:  4096
        walltime: 500
    
    trim_adapters_paired_end:
        threads: 8
        mem:  4096
        walltime: 500

    salmon_quant:
            threads: 20
            mem: 32000
            walltime: 10

    star_align:
            threads: 8
            mem: 64000
            walltime: 60    

    hisat2_align:
            threads: 8
            mem: 64000
            walltime: 60

    hisat2_sort:
            threads: 8
            mem: 64000
            walltime: 60

    bam_indexing:
        threads: 8
        mem:  4096
        walltime: 10
    
    htseq_count:
            threads: 8
            mem: 64000
            walltime: 120

    featureCounts:
            threads: 8
            mem: 64000
            walltime: 120

    salmon_index:
        threads: 32
        mem: 64000
        walltime: 180
    
    star_index:
        threads: 8
        mem: 96000
        walltime: 180
    
    hisat2_index:
        threads: 8
        mem: 64000
        walltime: 180

